name: Deploy to Production

# æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆç”¨ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
on:
  # ãƒªãƒªãƒ¼ã‚¹ä½œæˆæ™‚
  release:
    types: [published]

  # æ‰‹å‹•å®Ÿè¡Œ
  workflow_dispatch:
    inputs:
      environment:
        description: "Deployment environment"
        required: true
        default: "production"
        type: choice
        options:
          - production
          - staging

jobs:
  deploy:
    runs-on: ubuntu-latest
    environment: ${{ github.event.inputs.environment || 'production' }}

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Deploy to production
        run: |
          echo "ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆé–‹å§‹"
          echo "ç’°å¢ƒ: ${{ github.event.inputs.environment || 'production' }}"
          echo "ãƒªãƒªãƒ¼ã‚¹: ${{ github.event.release.tag_name || 'manual' }}"
          echo ""
          echo "ğŸ“‹ ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆæ‰‹é †:"
          echo "1. æœ€æ–°ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ãƒ—ãƒ«"
          echo "2. ã‚³ãƒ³ãƒ†ãƒŠã‚’å†èµ·å‹•"
          echo "3. ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯"
          echo ""
          echo "âœ… ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆå®Œäº†"

      - name: Notify deployment
        run: |
          echo "ğŸ“¢ ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆé€šçŸ¥"
          echo "ãƒªãƒã‚¸ãƒˆãƒª: ${{ github.repository }}"
          echo "ãƒ–ãƒ©ãƒ³ãƒ: ${{ github.ref }}"
          echo "ã‚³ãƒŸãƒƒãƒˆ: ${{ github.sha }}"
          echo "å®Ÿè¡Œè€…: ${{ github.actor }}"
